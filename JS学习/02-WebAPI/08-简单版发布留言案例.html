<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<meta http-equiv="X-UA-Compatible" content="ie=edge" />
		<title>Document</title>
		<style>
			* {
				margin: 0;
				padding: 0;
			}

			body {
				padding: 100px;
			}

			textarea {
				width: 200px;
				height: 100px;
				border: 1px solid pink;
				outline: none;
				resize: none;
			}

			ul {
				margin-top: 50px;
			}

			li {
				width: 300px;
				padding: 5px;
				background-color: rgb(245, 209, 243);
				color: red;
				font-size: 14px;
				margin: 15px 0;
			}
		</style>
	</head>

	<body>
		<textarea name="" id=""></textarea>
		<button>发布</button>
		<ul></ul>
		<script>
			var btn = document.querySelector('button');
			var textarea = document.querySelector('textarea');
			var ul = document.querySelector('ul');
			btn.onclick = function () {
				if (textarea.value == '') {
					alert('您没有输入内容');
					return false;
				} else {
					var li = document.createElement('li');
					li.innerHTML =
						textarea.value +
						'<br/>' +
						'发布时间：' +
						todayTime() +
						"<a href='javascript:;'>删除</a>";
					// ul.appendChild(li);
					// 添加留言节点，永远放在最前面
					ul.insertBefore(li, ul.children[0]);
				}
				//删除父节点
				var a = document.querySelectorAll('a');
				console.log(a);
				for (var i = 0; i < a.length; i++) {
					a[i].onclick = function () {
						ul.removeChild(this.parentNode);
					};
				}
			};
			function todayTime() {
				var date = new Date();
				var curYear = date.getFullYear();
				var curMonth = date.getMonth() + 1;
				var curDate = date.getDate();
				if (curMonth < 10) {
					curMonth = '0' + curMonth;
				}
				if (curDate < 10) {
					curDate = '0' + curDate;
				}
				var curHours = date.getHours();
				var curMinutes = date.getMinutes();
				var curtime =
					curYear +
					' 年 ' +
					curMonth +
					' 月 ' +
					curDate +
					' 日' +
					curHours +
					'时 ' +
					curMinutes +
					'分 ';
				return curtime;
			}
		</script>
	</body>
</html>
